#config_version=6

mode_settings:
  selectable_items:
    - title
    - presented_by
    - hotrod_pinball_logo
    - mpf_logo
    - credits
    - last_scores_1p{machine.player1_score and not machine.player2_score}
    - last_scores_2p{machine.player2_score and not machine.player3_score}
    - last_scores_3p{machine.player3_score and not machine.player4_score}
    - last_scores_4p{machine.player4_score}
  next_item_events: s_flipper_right_active, timer_attract_carousel_timer_complete
  previous_item_events: s_flipper_left_active

slide_player:
  mode_attract_started: attract

sound_player:
  mode_attract_started:
    top_gun_pinball_attract_scene_music:
      bus: music

# Kick off the chained cycle
event_player:
  mode_attract_started: attract_cycle_step1

show_player:
  # Step 1: play both halves at the same time; advance only after both complete
  attract_cycle_step1:
    attract_corners_sweep:
      loops: 1
      speed: 40
      priority: 200
      events_when_completed: attract_cycle_step2 

  # Step 3: spinner (your "blink_shoot_again") three times, then step 3
  attract_cycle_step2:
    attract_insert_fade_in_out:
      loops: 1
      speed: 2
      priority: 200
      events_when_completed: attract_cycle_step3

  # Step 4: spinner (your "blink_shoot_again") three times, then step 4
  attract_cycle_step3:
    attract_smooth_motion:
      loops: 1
      speed: 40
      priority: 200
      events_when_completed: attract_cycle_step4

  # Step 5: wave (your "output1") three times, then back to step 5
  attract_cycle_step4:
    attract_chase_all_inserts:
      loops: 10
      speed: 1
      priority: 200
      events_when_completed: attract_cycle_step5

  # Step 6: wave (your "output1") three times, then back to step 1
  attract_cycle_step5:
    attract_color_wheel:
      loops: 5
      speed: 50
      priority: 200
      events_when_completed: attract_cycle_step1

  # Clean stop on mode end
  mode_attract_stopping:
    attract_corners_sweep: stop
    attract_insert_fade_in_out: stop
    attract_smooth_motion: stop
    attract_chase_all_inserts: stop
    attract_color_wheel: stop

timers:
  attract_carousel_timer:
    end_value: 1
    tick_interval: 7s
    start_running: true
    control_events:
      - event: item_highlighted
        action: restart
      - event: flipper_cradle
        action: stop
      - event: flipper_cradle_release
        action: restart
